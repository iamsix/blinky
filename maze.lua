Maze = Object.extend(Object)

function Maze.new(self)
    -- TODO : Might change pellets to a unique number instead of 00 and modify the map as needed
    -- TODO : Change tile 24 to have the 'door' graphic
    self.map = love.graphics.newImage("pactiles.png")
    self.tilewidth = 16
    self.tileheight = 16
    self.quads = GenerateQuads(self.map, self.tilewidth, self.tileheight)
    self.tilemap = {
        {00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00}, -- 1
        {00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00}, -- 2
        {00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00}, -- 3
        {01,02,02,02,02,02,02,02,02,02,02,02,02,17,18,02,02,02,02,02,02,02,02,02,02,02,02,03}, -- 4
        {04,00,00,00,00,00,00,00,00,00,00,00,00,28,29,00,00,00,00,00,00,00,00,00,00,00,00,05}, -- 5
        {04,00,25,26,26,27,00,25,26,26,26,27,00,28,29,00,25,26,26,26,27,00,25,26,26,27,00,05}, -- 6
        {04,00,28,00,00,29,00,28,00,00,00,29,00,28,29,00,28,00,00,00,29,00,28,00,00,29,00,05}, -- 7
        {04,00,30,31,31,32,00,30,31,31,31,32,00,30,32,00,30,31,31,31,32,00,30,31,31,32,00,05}, -- 8
        {04,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,05}, -- 9
        {04,00,25,26,26,27,00,25,27,00,25,26,26,26,26,26,26,27,00,25,27,00,25,26,26,27,00,05}, -- 10
        {04,00,30,31,31,32,00,28,29,00,30,31,31,34,33,31,31,32,00,28,29,00,30,31,31,32,00,05}, -- 11
        {04,00,00,00,00,00,00,28,29,00,00,00,00,28,29,00,00,00,00,28,29,00,00,00,00,00,00,05}, -- 12
        {06,07,07,07,07,09,00,28,35,26,26,27,00,28,29,00,25,26,26,36,29,00,11,07,07,07,07,08}, -- 13
        {00,00,00,00,00,04,00,28,33,31,31,32,00,30,32,00,30,31,31,34,29,00,05,00,00,00,00,00}, -- 14
        {00,00,00,00,00,04,00,28,29,00,00,00,00,00,00,00,00,00,00,28,29,00,05,00,00,00,00,00}, -- 15
        {00,00,00,00,00,04,00,28,29,00,15,07,37,24,24,38,07,13,00,28,29,00,05,00,00,00,00,00}, -- 16 door are 24s
        {02,02,02,02,02,10,00,30,32,00,05,00,00,00,00,00,00,04,00,30,32,00,12,02,02,02,02,02}, -- 17
        {00,00,00,00,00,00,00,00,00,00,05,00,00,00,00,00,00,04,00,00,00,00,00,00,00,00,00,00}, -- 18
        {07,07,07,07,07,09,00,25,27,00,05,00,00,00,00,00,00,04,00,25,27,00,11,07,07,07,07,07}, -- 19
        {00,00,00,00,00,04,00,28,29,00,16,02,02,02,02,02,02,14,00,28,29,00,05,00,00,00,00,00}, -- 20
        {00,00,00,00,00,04,00,28,29,00,00,00,00,00,00,00,00,00,00,28,29,00,05,00,00,00,00,00}, -- 21
        {00,00,00,00,00,04,00,28,29,00,25,26,26,26,26,26,26,27,00,28,29,00,05,00,00,00,00,00}, -- 22
        {01,02,02,02,02,10,00,30,32,00,30,31,31,34,33,31,31,32,00,30,32,00,12,02,02,02,02,03}, -- 23
        {04,00,00,00,00,00,00,00,00,00,00,00,00,28,29,00,00,00,00,00,00,00,00,00,00,00,00,05}, -- 24
        {04,00,25,26,26,27,00,25,26,26,26,27,00,28,29,00,25,26,26,26,27,00,25,26,26,27,00,05}, -- 25
        {04,00,30,31,34,29,00,30,31,31,31,32,00,30,32,00,30,31,31,31,32,00,28,33,31,32,00,05}, -- 26
        {04,00,00,00,28,29,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,28,29,00,00,00,05}, -- 27
        {19,26,27,00,28,29,00,25,27,00,25,26,26,26,26,26,26,27,00,25,27,00,28,29,00,25,26,21}, -- 28
        {20,31,32,00,30,32,00,28,29,00,30,31,31,34,33,31,31,32,00,28,29,00,30,32,00,30,31,22}, -- 29
        {04,00,00,00,00,00,00,28,29,00,00,00,00,28,29,00,00,00,00,28,29,00,00,00,00,00,00,05}, -- 30
        {04,00,25,26,26,26,26,36,35,26,26,27,00,28,29,00,25,26,26,36,35,26,26,26,26,27,00,05}, -- 31
        {04,00,30,31,31,31,31,31,31,31,31,32,00,30,32,00,30,31,31,31,31,31,31,31,31,32,00,05}, -- 32
        {04,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,05}, -- 33
        {06,07,07,07,07,07,07,07,07,07,07,07,07,07,07,07,07,07,07,07,07,07,07,07,07,07,07,08}, -- 34
        {00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00}, -- 35
        {00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00}, -- 36
    --    1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28
    }
end

function Maze.draw(self)
    for i,row in ipairs(self.tilemap) do
        for j,tile in ipairs(row) do
            if tile ~= 0 then
                --Draw the image with the correct quad
                love.graphics.draw(self.map, 
                                   self.quads[tile], 
                                   j * self.tilewidth, 
                                   i * self.tileheight)
            end 
        end
    end
end